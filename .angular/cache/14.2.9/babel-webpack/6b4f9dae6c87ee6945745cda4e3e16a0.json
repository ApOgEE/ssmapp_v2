{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { Platform, IonRouterOutlet, NavController, IonicSwiper } from '@ionic/angular';\nimport { RegisterDeviceService } from '../services/registerdevice.service';\nimport { NewsService } from '../services/news.service';\nimport { SsmloadingService } from '../services/ssmloading.service';\nimport { NativeStorage } from '@awesome-cordova-plugins/native-storage/ngx';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AlertPromptComponent } from '../components/alert-prompt/alert-prompt.component';\nimport SwiperCore, { Autoplay, Keyboard, Pagination, Scrollbar, Swiper, Zoom } from 'swiper';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/news.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@ngx-translate/core\";\nimport * as i4 from \"../services/ssmloading.service\";\nimport * as i5 from \"../services/registerdevice.service\";\nimport * as i6 from \"@awesome-cordova-plugins/native-storage/ngx\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../components/ssmfooter/ssmfooter.component\";\nimport * as i9 from \"@angular/router\";\nimport * as i10 from \"swiper/angular\";\nconst _c0 = [\"slideWithNav\"];\n\nconst _c1 = function (a1) {\n  return [\"/detailnews/\", a1];\n};\n\nfunction HomePage_14_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16)(2, \"div\", 17)(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(5, \"p\");\n    i0.ɵɵelementStart(6, \"div\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 19);\n    i0.ɵɵelement(9, \"ion-icon\", 20);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const s_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(3, _c1, s_r2.link_id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(s_r2.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(s_r2.description);\n  }\n}\n\nfunction HomePage_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, HomePage_14_ng_template_0_Template, 10, 5, \"ng-template\", 14);\n  }\n}\n\nconst _c2 = function () {\n  return [\"/esearch\"];\n};\n\nconst _c3 = function () {\n  return [\"/equery\"];\n};\n\nconst _c4 = function () {\n  return [\"/ecompound\"];\n};\n\nconst _c5 = function () {\n  return [\"/status308\"];\n};\n\nconst _c6 = function () {\n  return [\"/biztrust\"];\n};\n\nSwiperCore.use([Autoplay, Keyboard, Pagination, Scrollbar, Zoom, IonicSwiper]);\nexport let HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(newsServ, platform, navCtrl, translate, ssmloading, regDevSvc, storage, routerOutlet) {\n      this.newsServ = newsServ;\n      this.platform = platform;\n      this.navCtrl = navCtrl;\n      this.translate = translate;\n      this.ssmloading = ssmloading;\n      this.regDevSvc = regDevSvc;\n      this.storage = storage;\n      this.routerOutlet = routerOutlet; //Configuration for each Slider\n\n      this.slideOptsOne = {\n        initialSlide: 0,\n        slidesPerView: 1,\n        autoplay: false,\n        pagination: {\n          clickable: true\n        },\n        scrollbar: {\n          draggable: true\n        }\n      };\n      this.slideIndex = 0;\n      this.alertPrompt = new AlertPromptComponent(this.navCtrl);\n      this.sliderOne = {\n        isBeginningSlide: true,\n        isEndSlide: false,\n        slidesItems: []\n      };\n      this.newsRss = {\n        channel: {\n          title: \"\",\n          link: \"\",\n          description: \"\",\n          lastBuildDate: \"\",\n          generator: \"\",\n          ttl: \"\",\n          language: \"\",\n          item: []\n        }\n      };\n    }\n\n    ngAfterViewInit() {\n      this.backButtonSubscription = this.platform.backButton.subscribe(() => {\n        if (!this.routerOutlet.canGoBack()) {\n          let exittitle = this.translate.instant('EXITTITLE');\n          let exitmessage = this.translate.instant('EXITMSG');\n          let canceltext = this.translate.instant('CANCEL');\n          this.alertPrompt.presentAlertConfirmExitApp(exittitle, exitmessage, canceltext).then(() => {});\n        }\n      });\n    }\n\n    ngOnDestroy() {\n      this.backButtonSubscription.unsubscribe();\n    }\n\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        yield this.ssmloading.showLoaderText('LOADING');\n\n        if (this.storage.getItem('token') !== null) {\n          this.initData();\n        } else {\n          this.regDevSvc.registerDevice().then(() => {\n            this.initData();\n          }, error => {\n            this.ssmloading.hideLoader();\n          });\n        }\n      });\n    }\n\n    initData() {\n      this.newsServ.getNews().then(newsData => {\n        this.newsRss = JSON.parse(newsData.data);\n        this.sliderOne.slidesItems = this.newsRss.channel.item;\n        this.ssmloading.hideLoader();\n      }, error => {});\n    } //Move to Next slide\n\n\n    slideNext(object, slideView) {\n      slideView.slideNext(500).then(() => {\n        this.checkIfNavDisabled(object, slideView);\n      });\n    } //Move to previous slide\n\n\n    slidePrev(object, slideView) {\n      slideView.slidePrev(500).then(() => {\n        this.checkIfNavDisabled(object, slideView);\n      });\n      ;\n    } //Method called when slide is changed by drag or navigation\n\n\n    slideDidChange(slideView) {\n      this.slideIndex = this.slideWithNav.activeIndex;\n      this.checkIfNavDisabled(this.sliderOne, slideView);\n    } //Call methods to check if slide is first or last to enable disbale navigation  \n\n\n    checkIfNavDisabled(object, slideView) {\n      this.checkisBeginning(object, slideView);\n      this.checkisEnd(object, slideView);\n    }\n\n    checkisBeginning(object, slideView) {\n      slideView.isBeginning().then(istrue => {\n        object.isBeginningSlide = istrue;\n      });\n    }\n\n    checkisEnd(object, slideView) {\n      slideView.isEnd().then(istrue => {\n        object.isEndSlide = istrue;\n      });\n    }\n\n  }\n\n  HomePage.ɵfac = function HomePage_Factory(t) {\n    return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.NewsService), i0.ɵɵdirectiveInject(i2.Platform), i0.ɵɵdirectiveInject(i2.NavController), i0.ɵɵdirectiveInject(i3.TranslateService), i0.ɵɵdirectiveInject(i4.SsmloadingService), i0.ɵɵdirectiveInject(i5.RegisterDeviceService), i0.ɵɵdirectiveInject(i6.NativeStorage), i0.ɵɵdirectiveInject(i2.IonRouterOutlet));\n  };\n\n  HomePage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomePage,\n    selectors: [[\"app-home\"]],\n    viewQuery: function HomePage_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slideWithNav = _t.first);\n      }\n    },\n    decls: 22,\n    vars: 15,\n    consts: [[\"slot\", \"start\", 1, \"home-topbar\", 2, \"margin-top\", \"20px\", \"margin-left\", \"10px\"], [1, \"bar-class\", 2, \"border-radius\", \"5px\"], [1, \"bgtukar-main\", \"bgtukar\"], [1, \"titlenews-main\"], [1, \"maintitle\"], [3, \"config\", \"slideChange\"], [\"slideWithNav\", \"\"], [4, \"ngFor\", \"ngForOf\"], [\"align\", \"center\", 1, \"icon-bottom\"], [\"routerDirection\", \"forward\", \"src\", \"../../assets/images/eSearch.png\", 1, \"avatar\", \"relative\", 3, \"routerLink\"], [\"routerDirection\", \"forward\", \"src\", \"../../assets/images/eQuery.png\", 1, \"avatar\", \"relative\", 3, \"routerLink\"], [\"routerDirection\", \"forward\", \"src\", \"../../assets/images/eCompound.png\", 1, \"avatar\", \"relative\", 3, \"routerLink\"], [\"routerDirection\", \"forward\", \"src\", \"../../assets/images/Status308.png\", 1, \"avatar\", \"relative\", 3, \"routerLink\"], [\"routerDirection\", \"forward\", \"src\", \"../../assets/images/eBizTrust.png\", 1, \"avatar\", \"relative\", 3, \"routerLink\"], [\"swiperSlide\", \"\"], [1, \"box1\"], [\"routerDirection\", \"forward\", 1, \"newscontent\", 3, \"routerLink\"], [2, \"color\", \"#2e2f83\", \"display\", \"inline-block\", \"text-align\", \"left\"], [2, \"display\", \"inline-block\", \"text-align\", \"left\"], [1, \"main-readmore\"], [\"name\", \"more\"]],\n    template: function HomePage_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r5 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"ion-content\")(1, \"div\")(2, \"ion-buttons\", 0);\n        i0.ɵɵelement(3, \"ion-menu-button\", 1);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"strong\")(7, \"div\", 4);\n        i0.ɵɵtext(8);\n        i0.ɵɵpipe(9, \"translate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"ion-grid\")(11, \"ion-row\")(12, \"swiper\", 5, 6);\n        i0.ɵɵlistener(\"slideChange\", function HomePage_Template_swiper_slideChange_12_listener() {\n          i0.ɵɵrestoreView(_r5);\n\n          const _r0 = i0.ɵɵreference(13);\n\n          return i0.ɵɵresetView(ctx.slideDidChange(_r0));\n        });\n        i0.ɵɵtemplate(14, HomePage_14_Template, 1, 0, null, 7);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 8);\n        i0.ɵɵelement(16, \"img\", 9)(17, \"img\", 10)(18, \"img\", 11)(19, \"img\", 12)(20, \"img\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(21, \"app-ssmfooter\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 8, \"MENU_01\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"config\", ctx.slideOptsOne);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sliderOne.slidesItems);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c2));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c3));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c4));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(13, _c5));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(14, _c6));\n      }\n    },\n    dependencies: [i7.NgForOf, i2.IonButtons, i2.IonContent, i2.IonGrid, i2.IonIcon, i2.IonMenuButton, i2.IonRow, i2.RouterLinkDelegate, i8.SsmfooterComponent, i9.RouterLink, i10.SwiperComponent, i10.SwiperSlideDirective, i3.TranslatePipe],\n    styles: [\".newscontent[_ngcontent-%COMP%]{height:160px;overflow:hidden;text-overflow:ellipsis;font-size:13px;padding:3px}.box1[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]{--overflow: visible;--background: none;background-image:url(background.png);background-position:0 0;background-repeat:no-repeat;background-size:cover;-webkit-background-size:cover;-moz-background-size:cover}\"]\n  });\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module"}